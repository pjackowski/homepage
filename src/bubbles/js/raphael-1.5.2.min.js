(function(){function l(){if(l.is(arguments[0],P)){for(var a=arguments[0],b=ta[F](l,a.splice(0,3+l.is(a[0],I))),c=b.set(),e=0,f=a[q];e<f;e++){var d=a[e]||{};nb[v](d.type)&&c[B](b[d.type]().attr(d))}return c}return ta[F](l,arguments)}function ga(){for(var a=[],b=0;32>b;b++)a[b]=(~~(16*w.random()))[V](16);a[12]=4;a[16]=(a[16]&3|8)[V](16);return"r-"+a[J]("")}function W(a,b,c){function e(){var f=Array[u].slice.call(arguments,0),d=f[J]("\u25ba"),g=e.cache=e.cache||{},k=e.count=e.count||[];if(g[v](d))return c?
c(g[d]):g[d];1E3<=k[q]&&delete g[k.shift()];k[B](d);g[d]=a[F](b,f);return c?c(g[d]):g[d]}return e}function Ja(){return this.x+G+this.y}function Ka(a){return function(b,c,e,f){var d={back:a};l.is(e,"function")?f=e:d.rot=e;b&&b.constructor==x&&(b=b.attrs.path);b&&(d.along=b);return this.animate(d,c,f)}}l.version="1.5.2";var R=/[, ]+/,nb={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ob=/\{(\d+)\}/g,u="prototype",v="hasOwnProperty",r=document,Y=window,La=Object[u][v].call(Y,"Raphael"),pb=Y.Raphael,
ha=function(){this.customAttributes={}},E,F="apply",ua="createTouch"in r,G=" ",z=String,Ma="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(G),va={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},J="join",q="length",$=z[u].toLowerCase,w=Math,O=w.max,U=w.min,H=w.abs,C=w.pow,M=w.PI,I="number",P="array",V="toString",qb=Object[u][V],B="push",Na=/^url\(['"]?([^\)]+?)['"]?\)$/i,
rb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,sb={NaN:1,Infinity:1,"-Infinity":1},tb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=w.round,y=parseFloat,X=parseInt,ia=z[u].toUpperCase,ja={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",
cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},wa={along:"along",
blur:I,"clip-rect":"csv",cx:I,cy:I,fill:"colour","fill-opacity":I,"font-size":I,height:I,opacity:I,path:"path",r:I,rotation:"csv",rx:I,ry:I,scale:"csv",stroke:"colour","stroke-opacity":I,"stroke-width":I,translation:"csv",width:I,x:I,y:I},ub=/^(from|to|\d+%?)$/,xa=/\s*,\s*/,vb={hs:1,rg:1},wb=/,?([achlmqrstvxz]),?/gi,xb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,yb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Oa=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,zb=function(a,b){return a.key-b.key};
l.type=Y.SVGAngle||r.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==l.type){var ya=r.createElement("div"),ka;ya.innerHTML='<v:shape adj="1"/>';ka=ya.firstChild;ka.style.behavior="url(#default#VML)";if(!(ka&&"object"==typeof ka.adj))return l.type=null;ya=null}l.svg=!(l.vml="VML"==l.type);ha[u]=l[u];E=ha[u];l._id=0;l._oid=0;l.fn={};l.is=function(a,b){b=$.call(b);return"finite"==b?!sb[v](+a):"null"==b&&null===a||b==typeof a||"object"==b&&a===
Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||qb.call(a).slice(8,-1).toLowerCase()==b};l.angle=function(a,b,c,e,f,d){return null==f?(a-=c,b-=e,!a&&!b?0:(180*(0>a)+180*w.atan(-b/-a)/M+360)%360):l.angle(a,b,f,d)-l.angle(c,e,f,d)};l.rad=function(a){return a%360*M/180};l.deg=function(a){return 180*a/M%360};l.snapTo=function(a,b,c){c=l.is(c,"finite")?c:10;if(l.is(a,P))for(var e=a.length;e--;){if(H(a[e]-b)<=c)return a[e]}else{a=+a;e=b%a;if(e<c)return b-e;if(e>a-c)return b-e+a}return b};l.setWindow=
function(a){Y=a;r=Y.document};var la=function(a){if(l.vml){var b=/^\s+|\s+$/g,c;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();c=e.body}catch(f){c=createPopup().document.body}var d=c.createTextRange();la=W(function(a){try{c.style.color=z(a).replace(b,"");var e=d.queryCommandValue("ForeColor");return"#"+("000000"+((e&255)<<16|e&65280|(e&16711680)>>>16)[V](16)).slice(-6)}catch(f){return"none"}})}else{var g=r.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display=
"none";r.body.appendChild(g);la=W(function(a){g.style.color=a;return r.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return la(a)},Pa=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ab=function(){return"hsl("+[this.h,this.s,this.l]+")"},Bb=function(){return this.hex};l.hsb2rgb=function(a,b,c,e){l.is(a,"object")&&("h"in a&&"s"in a&&"b"in a)&&(c=a.b,b=a.s,a=a.h,e=a.o);return l.hsl2rgb(a,b,c/2,e)};l.hsl2rgb=function(a,b,c,e){l.is(a,"object")&&("h"in a&&"s"in a&&"l"in a)&&(c=a.l,
b=a.s,a=a.h);if(1<a||1<b||1<c)a/=360,b/=100,c/=100;var f={},d=["r","g","b"],g;if(b){b=0.5>c?c*(1+b):c+b-c*b;c=2*c-b;for(var k=0;3>k;k++)g=a+1/3*-(k-1),0>g&&g++,1<g&&g--,f[d[k]]=1>6*g?c+6*(b-c)*g:1>2*g?b:2>3*g?c+6*(b-c)*(2/3-g):c}else f={r:c,g:c,b:c};f.r*=255;f.g*=255;f.b*=255;f.hex="#"+(16777216|f.b|f.g<<8|f.r<<16).toString(16).slice(1);l.is(e,"finite")&&(f.opacity=e);f.toString=Bb;return f};l.rgb2hsb=function(a,b,c){null==b&&(l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a)&&(c=a.b,b=a.g,a=a.r);if(null==
b&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(1<a||1<b||1<c)a/=255,b/=255,c/=255;var e=O(a,b,c),f=U(a,b,c);if(f==e)return{h:0,s:0,b:e,toString:Pa};f=e-f;a=(a==e?(b-c)/f:b==e?2+(c-a)/f:4+(a-b)/f)/6;0>a&&a++;1<a&&a--;return{h:a,s:f/e,b:e,toString:Pa}};l.rgb2hsl=function(a,b,c){null==b&&(l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a)&&(c=a.b,b=a.g,a=a.r);if(null==b&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(1<a||1<b||1<c)a/=255,b/=255,c/=255;var e=O(a,b,c),f=U(a,b,c),d=(e+
f)/2;if(f==e)a={h:0,s:0,l:d};else{var g=e-f;a=(a==e?(b-c)/g:b==e?2+(c-a)/g:4+(a-b)/g)/6;0>a&&a++;1<a&&a--;a={h:a,s:0.5>d?g/(e+f):g/(2-e-f),l:d}}a.toString=Ab;return a};l._path2string=function(){return this.join(",").replace(wb,"$1")};l.getRGB=W(function(a){if(!a||(a=z(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none"};!(vb[v](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=la(a));var b,c,e,f,d;if(a=a.match(rb)){a[2]&&(e=X(a[2].substring(5),
16),c=X(a[2].substring(3,5),16),b=X(a[2].substring(1,3),16));a[3]&&(e=X((d=a[3].charAt(3))+d,16),c=X((d=a[3].charAt(2))+d,16),b=X((d=a[3].charAt(1))+d,16));a[4]&&(d=a[4].split(xa),b=y(d[0]),"%"==d[0].slice(-1)&&(b*=2.55),c=y(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),e=y(d[2]),"%"==d[2].slice(-1)&&(e*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(f=y(d[3])),d[3]&&"%"==d[3].slice(-1)&&(f/=100));if(a[5])return d=a[5].split(xa),b=y(d[0]),"%"==d[0].slice(-1)&&(b*=2.55),c=y(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),
e=y(d[2]),"%"==d[2].slice(-1)&&(e*=2.55),("deg"==d[0].slice(-3)||"\u00b0"==d[0].slice(-1))&&(b/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(f=y(d[3])),d[3]&&"%"==d[3].slice(-1)&&(f/=100),l.hsb2rgb(b,c,e,f);if(a[6])return d=a[6].split(xa),b=y(d[0]),"%"==d[0].slice(-1)&&(b*=2.55),c=y(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),e=y(d[2]),"%"==d[2].slice(-1)&&(e*=2.55),("deg"==d[0].slice(-3)||"\u00b0"==d[0].slice(-1))&&(b/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(f=y(d[3])),d[3]&&"%"==d[3].slice(-1)&&(f/=
100),l.hsl2rgb(b,c,e,f);a={r:b,g:c,b:e};a.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1);l.is(f,"finite")&&(a.opacity=f);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},l);l.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;1<a.h&&(a.h=0,a.s-=0.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return b.hex};l.getColor.reset=function(){delete this.start};l.parsePathString=W(function(a){if(!a)return null;var b={a:7,
c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];l.is(a,P)&&l.is(a[0],P)&&(c=ma(a));c[q]||z(a).replace(xb,function(a,f,d){var g=[];a=$.call(f);d.replace(yb,function(a,b){b&&g[B](+b)});"m"==a&&2<g[q]&&(c[B]([f].concat(g.splice(0,2))),a="l",f="m"==f?"l":"L");for(;g[q]>=b[a]&&!(c[B]([f].concat(g.splice(0,b[a]))),!b[a]););});c[V]=l._path2string;return c});l.findDotsAtSegment=function(a,b,c,e,f,d,g,k,j){var h=1-j,m=C(h,3)*a+3*C(h,2)*j*c+3*h*j*j*f+C(j,3)*g,h=C(h,3)*b+3*C(h,2)*j*e+3*h*j*j*d+C(j,3)*k,l=a+2*j*(c-
a)+j*j*(f-2*c+a),p=b+2*j*(e-b)+j*j*(d-2*e+b),q=c+2*j*(f-c)+j*j*(g-2*f+c),n=e+2*j*(d-e)+j*j*(k-2*d+e);a=(1-j)*a+j*c;b=(1-j)*b+j*e;f=(1-j)*f+j*g;d=(1-j)*d+j*k;k=90-180*w.atan((l-q)/(p-n))/M;(l>q||p<n)&&(k+=180);return{x:m,y:h,m:{x:l,y:p},n:{x:q,y:n},start:{x:a,y:b},end:{x:f,y:d},alpha:k}};var oa=W(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=na(a);for(var b=0,c=0,e=[],f=[],d,g=0,k=a[q];g<k;g++)d=a[g],"M"==d[0]?(b=d[1],c=d[2],e[B](b),f[B](c)):(b=Cb(b,c,d[1],d[2],d[3],d[4],d[5],d[6]),e=e.concat(b.min.x,
b.max.x),f=f.concat(b.min.y,b.max.y),b=d[5],c=d[6]);a=U[F](0,e);d=U[F](0,f);return{x:a,y:d,width:O[F](0,e)-a,height:O[F](0,f)-d}}),ma=function(a){var b=[];if(!l.is(a,P)||!l.is(a&&a[0],P))a=l.parsePathString(a);for(var c=0,e=a[q];c<e;c++){b[c]=[];for(var f=0,d=a[c][q];f<d;f++)b[c][f]=a[c][f]}b[V]=l._path2string;return b},za=W(function(a){if(!l.is(a,P)||!l.is(a&&a[0],P))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;"M"==a[0][0]&&(c=a[0][1],e=a[0][2],f=c,d=e,g++,b[B](["M",c,e]));for(var k=a[q];g<
k;g++){var j=b[g]=[],h=a[g];if(h[0]!=$.call(h[0]))switch(j[0]=$.call(h[0]),j[0]){case "a":j[1]=h[1];j[2]=h[2];j[3]=h[3];j[4]=h[4];j[5]=h[5];j[6]=+(h[6]-c).toFixed(3);j[7]=+(h[7]-e).toFixed(3);break;case "v":j[1]=+(h[1]-e).toFixed(3);break;case "m":f=h[1],d=h[2];default:for(var m=1,A=h[q];m<A;m++)j[m]=+(h[m]-(m%2?c:e)).toFixed(3)}else{b[g]=[];"m"==h[0]&&(f=h[1]+c,d=h[2]+e);j=0;for(m=h[q];j<m;j++)b[g][j]=h[j]}h=b[g][q];switch(b[g][0]){case "z":c=f;e=d;break;case "h":c+=+b[g][h-1];break;case "v":e+=
+b[g][h-1];break;default:c+=+b[g][h-2],e+=+b[g][h-1]}}b[V]=l._path2string;return b},0,ma),ba=W(function(a){if(!l.is(a,P)||!l.is(a&&a[0],P))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;"M"==a[0][0]&&(c=+a[0][1],e=+a[0][2],f=c,d=e,g++,b[0]=["M",c,e]);for(var k=a[q];g<k;g++){var j=b[g]=[],h=a[g];if(h[0]!=ia.call(h[0]))switch(j[0]=ia.call(h[0]),j[0]){case "A":j[1]=h[1];j[2]=h[2];j[3]=h[3];j[4]=h[4];j[5]=h[5];j[6]=+(h[6]+c);j[7]=+(h[7]+e);break;case "V":j[1]=+h[1]+e;break;case "H":j[1]=+h[1]+c;
break;case "M":f=+h[1]+c,d=+h[2]+e;default:for(var m=1,A=h[q];m<A;m++)j[m]=+h[m]+(m%2?c:e)}else{m=0;for(A=h[q];m<A;m++)b[g][m]=h[m]}switch(j[0]){case "Z":c=f;e=d;break;case "H":c=j[1];break;case "V":e=j[1];break;case "M":f=b[g][b[g][q]-2],d=b[g][b[g][q]-1];default:c=b[g][b[g][q]-2],e=b[g][b[g][q]-1]}}b[V]=l._path2string;return b},null,ma),Qa=function(a,b,c,e,f,d){var g=1/3,k=2/3;return[g*a+k*c,g*b+k*e,g*f+k*c,g*d+k*e,f,d]},Ra=function(a,b,c,e,f,d,g,k,j,h){var m=120*M/180,l=M/180*(+f||0),p=[],t,n=
W(function(a,b,c){var d=a*w.cos(c)-b*w.sin(c);a=a*w.sin(c)+b*w.cos(c);return{x:d,y:a}});if(h)D=h[0],t=h[1],d=h[2],L=h[3];else{t=n(a,b,-l);a=t.x;b=t.y;t=n(k,j,-l);k=t.x;j=t.y;w.cos(M/180*f);w.sin(M/180*f);t=(a-k)/2;D=(b-j)/2;L=t*t/(c*c)+D*D/(e*e);1<L&&(L=w.sqrt(L),c*=L,e*=L);var L=c*c,ca=e*e,L=(d==g?-1:1)*w.sqrt(H((L*ca-L*D*D-ca*t*t)/(L*D*D+ca*t*t)));d=L*c*D/e+(a+k)/2;var L=L*-e*t/c+(b+j)/2,D=w.asin(((b-L)/e).toFixed(9));t=w.asin(((j-L)/e).toFixed(9));D=a<d?M-D:D;t=k<d?M-t:t;0>D&&(D=2*M+D);0>t&&(t=
2*M+t);g&&D>t&&(D-=2*M);!g&&t>D&&(t-=2*M)}if(H(t-D)>m){var p=t,ca=k,v=j;t=D+m*(g&&t>D?1:-1);k=d+c*w.cos(t);j=L+e*w.sin(t);p=Ra(k,j,c,e,f,0,g,ca,v,[t,p,d,L])}d=t-D;f=w.cos(D);m=w.sin(D);g=w.cos(t);t=w.sin(t);d=w.tan(d/4);c=4/3*c*d;d*=4/3*e;e=[a,b];a=[a+c*m,b-d*f];b=[k+c*t,j-d*g];k=[k,j];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(h)return[a,b,k].concat(p);p=[a,b,k].concat(p)[J]().split(",");h=[];k=0;for(j=p[q];k<j;k++)h[k]=k%2?n(p[k-1],p[k],l).y:n(p[k],p[k+1],l).x;return h},pa=function(a,b,c,e,f,d,g,k,j){var h=
1-j;return{x:C(h,3)*a+3*C(h,2)*j*c+3*h*j*j*f+C(j,3)*g,y:C(h,3)*b+3*C(h,2)*j*e+3*h*j*j*d+C(j,3)*k}},Cb=W(function(a,b,c,e,f,d,g,k){var j=f-2*c+a-(g-2*f+c),h=2*(c-a)-2*(f-c),m=a-c,l=(-h+w.sqrt(h*h-4*j*m))/2/j,j=(-h-w.sqrt(h*h-4*j*m))/2/j,p=[b,k],q=[a,g];"1e12"<H(l)&&(l=0.5);"1e12"<H(j)&&(j=0.5);0<l&&1>l&&(l=pa(a,b,c,e,f,d,g,k,l),q[B](l.x),p[B](l.y));0<j&&1>j&&(l=pa(a,b,c,e,f,d,g,k,j),q[B](l.x),p[B](l.y));j=d-2*e+b-(k-2*d+e);h=2*(e-b)-2*(d-e);m=b-e;l=(-h+w.sqrt(h*h-4*j*m))/2/j;j=(-h-w.sqrt(h*h-4*j*m))/
2/j;"1e12"<H(l)&&(l=0.5);"1e12"<H(j)&&(j=0.5);0<l&&1>l&&(l=pa(a,b,c,e,f,d,g,k,l),q[B](l.x),p[B](l.y));0<j&&1>j&&(l=pa(a,b,c,e,f,d,g,k,j),q[B](l.x),p[B](l.y));return{min:{x:U[F](0,q),y:U[F](0,p)},max:{x:O[F](0,q),y:O[F](0,p)}}}),na=W(function(a,b){var c=ba(a),e=b&&ba(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];
break;case "A":a=["C"].concat(Ra[F](0,[b.x,b.y].concat(a.slice(1))));break;case "S":c=b.x+(b.x-(b.bx||b.x));d=b.y+(b.y-(b.by||b.y));a=["C",c,d].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(Qa(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(Qa(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat([b.x,b.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"].concat([b.x,b.y,a[1],b.y,a[1],b.y]);break;case "V":a=["C"].concat([b.x,
b.y,b.x,a[1],b.x,a[1]]);break;case "Z":a=["C"].concat([b.x,b.y,b.X,b.Y,b.X,b.Y])}return a},k=function(a,b){if(7<a[b][q]){a[b].shift();for(var d=a[b];d[q];)a.splice(b++,0,["C"].concat(d.splice(0,6)));a.splice(b,1);l=O(c[q],e&&e[q]||0)}},j=function(a,b,d,f,g){a&&(b&&"M"==a[g][0]&&"M"!=b[g][0])&&(b.splice(g,0,["M",f.x,f.y]),d.bx=0,d.by=0,d.x=a[g][1],d.y=a[g][2],l=O(c[q],e&&e[q]||0))},h=0,l=O(c[q],e&&e[q]||0);for(;h<l;h++){c[h]=g(c[h],f);k(c,h);e&&(e[h]=g(e[h],d));e&&k(e,h);j(c,e,f,d,h);j(e,c,d,f,h);
var A=c[h],p=e&&e[h],t=A[q],n=e&&p[q];f.x=A[t-2];f.y=A[t-1];f.bx=y(A[t-4])||f.x;f.by=y(A[t-3])||f.y;d.bx=e&&(y(p[n-4])||d.x);d.by=e&&(y(p[n-3])||d.y);d.x=e&&p[n-2];d.y=e&&p[n-1]}return e?[c,e]:c},null,ma),Sa=W(function(a){for(var b=[],c=0,e=a[q];c<e;c++){var f={},d=a[c].match(/^([^:]*):?([\d\.]*)/);f.color=l.getRGB(d[1]);if(f.color.error)return null;f.color=f.color.hex;d[2]&&(f.offset=d[2]+"%");b[B](f)}c=1;for(e=b[q]-1;c<e;c++)if(!b[c].offset){a=y(b[c-1].offset||0);d=0;for(f=c+1;f<e;f++)if(b[f].offset){d=
b[f].offset;break}d||(d=100,f=e);d=y(d);for(d=(d-a)/(f-c+1);c<f;c++)a+=d,b[c].offset=a+"%"}return b}),Ta=function(a,b,c,e){if(l.is(a,"string")||l.is(a,"object")){if(a=l.is(a,"string")?r.getElementById(a):a,a.tagName)return null==b?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:b,height:c}}else return{container:1,x:a,y:b,width:c,height:e}},Aa=function(a,b){var c=this,e;for(e in b)if(b[v](e)&&!(e in a))switch(typeof b[e]){case "function":(function(b){a[e]=
a===c?b:function(){return b[F](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};Aa.call(this,a[e],b[e]);break;default:a[e]=b[e]}},aa=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Ua=function(a,b){b.top!==a&&(aa(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},Va=function(a,b){b.bottom!==a&&(aa(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},Wa=function(a,b,c){aa(a,c);b==c.top&&(c.top=a);b.next&&
(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Xa=function(a,b,c){aa(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},Ya=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};l.pathToRelative=za;if(l.svg){E.svgns="http://www.w3.org/2000/svg";E.xlink="http://www.w3.org/1999/xlink";var K=function(a){return+a+0.5*(~~a===a)},n=function(a,b){if(b)for(var c in b)b[v](c)&&a.setAttribute(c,z(b[c]));
else return a=r.createElementNS(E.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a};l[V]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Za=function(a,b){var c=n("path");b.canvas&&b.canvas.appendChild(c);c=new x(c,b);c.type="path";Z(c,{fill:"none",stroke:"#000",path:a});return c},da=function(a,b,c){var e="linear",f=0.5,d=0.5,g=a.style;b=z(b).replace(Oa,function(a,b,c){e="radial";b&&c&&(f=y(b),d=y(c),a=2*(0.5<d)-1,0.25<C(f-0.5,2)+C(d-0.5,2)&&
(d=w.sqrt(0.25-C(f-0.5,2))*a+0.5)&&0.5!=d&&(d=d.toFixed(5)-1E-5*a));return""});b=b.split(/\s*\-\s*/);if("linear"==e){var k=b.shift(),k=-y(k);if(isNaN(k))return null;var k=[0,0,w.cos(k*M/180),w.sin(k*M/180)],j=1/(O(H(k[2]),H(k[3]))||1);k[2]*=j;k[3]*=j;0>k[2]&&(k[0]=-k[2],k[2]=0);0>k[3]&&(k[1]=-k[3],k[3]=0)}b=Sa(b);if(!b)return null;j=a.getAttribute("fill");(j=j.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(r.getElementById(j[1]));j=n(e+"Gradient");j.id=ga();n(j,"radial"==e?{fx:f,fy:d}:{x1:k[0],y1:k[1],
x2:k[2],y2:k[3]});c.defs.appendChild(j);c=0;for(k=b[q];c<k;c++){var h=n("stop");n(h,{offset:b[c].offset?b[c].offset:!c?"0%":"100%","stop-color":b[c].color||"#fff"});j.appendChild(h)}n(a,{fill:"url(#"+j.id+")",opacity:1,"fill-opacity":1});g.fill="";g.opacity=1;return g.fillOpacity=1},Ba=function(a){var b=a.getBBox();n(a.pattern,{patternTransform:l.format("translate({0},{1})",b.x,b.y)})},Z=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,
3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,f=a.attrs,d=a.rotate(),g=function(a,d){if(d=c[$.call(d)]){for(var f=a.attrs["stroke-width"]||"1",g={round:f,square:f,butt:0}[a.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,h=[],j=d[q];j--;)h[j]=d[j]*f+(j%2?1:-1)*g;n(e,{"stroke-dasharray":h[J](",")})}};b[v]("rotation")&&(d=b.rotation);var k=z(d).split(R);k.length-1?(k[1]=+k[1],k[2]=+k[2]):k=null;y(d)&&a.rotate(0,!0);for(var j in b)if(b[v](j)&&ja[v](j)){var h=b[j];f[j]=
h;switch(j){case "blur":a.blur(h);break;case "rotation":a.rotate(h,!0);break;case "href":case "title":case "target":var m=e.parentNode;if("a"!=$.call(m.tagName)){var A=n("a");m.insertBefore(A,e);A.appendChild(e);m=A}"target"==j&&"blank"==h?m.setAttributeNS(a.paper.xlink,"show","new"):m.setAttributeNS(a.paper.xlink,j,h);break;case "cursor":e.style.cursor=h;break;case "clip-rect":m=z(h).split(R);if(4==m[q]){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var p=n("clipPath"),A=n("rect");
p.id=ga();n(A,{x:m[0],y:m[1],width:m[2],height:m[3]});p.appendChild(A);a.paper.defs.appendChild(p);n(e,{"clip-path":"url(#"+p.id+")"});a.clip=A}h||((h=r.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&h.parentNode.removeChild(h),n(e,{"clip-path":""}),delete a.clip);break;case "path":"path"==a.type&&n(e,{d:h?f.path=ba(h):"M0,0"});break;case "width":if(e.setAttribute(j,h),f.fx)j="x",h=f.x;else break;case "x":f.fx&&(h=-f.x-(f.width||0));case "rx":if("rx"==j&&"rect"==a.type)break;
case "cx":k&&("x"==j||"cx"==j)&&(k[1]+=h-f[j]);e.setAttribute(j,h);a.pattern&&Ba(a);break;case "height":if(e.setAttribute(j,h),f.fy)j="y",h=f.y;else break;case "y":f.fy&&(h=-f.y-(f.height||0));case "ry":if("ry"==j&&"rect"==a.type)break;case "cy":k&&("y"==j||"cy"==j)&&(k[2]+=h-f[j]);e.setAttribute(j,h);a.pattern&&Ba(a);break;case "r":"rect"==a.type?n(e,{rx:h,ry:h}):e.setAttribute(j,h);break;case "src":"image"==a.type&&e.setAttributeNS(a.paper.xlink,"href",h);break;case "stroke-width":e.style.strokeWidth=
h;e.setAttribute(j,h);f["stroke-dasharray"]&&g(a,f["stroke-dasharray"]);break;case "stroke-dasharray":g(a,h);break;case "translation":h=z(h).split(R);h[0]=+h[0]||0;h[1]=+h[1]||0;k&&(k[1]+=h[0],k[2]+=h[1]);qa.call(a,h[0],h[1]);break;case "scale":h=z(h).split(R);a.scale(+h[0]||1,+h[1]||+h[0]||1,isNaN(y(h[2]))?null:+h[2],isNaN(y(h[3]))?null:+h[3]);break;case "fill":if(m=z(h).match(Na)){var p=n("pattern"),t=n("image");p.id=ga();n(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});n(t,{x:0,y:0});
t.setAttributeNS(a.paper.xlink,"href",m[1]);p.appendChild(t);h=r.createElement("img");h.style.cssText="position:absolute;left:-9999em;top-9999em";h.onload=function(){n(p,{width:this.offsetWidth,height:this.offsetHeight});n(t,{width:this.offsetWidth,height:this.offsetHeight});r.body.removeChild(this);a.paper.safari()};r.body.appendChild(h);h.src=m[1];a.paper.defs.appendChild(p);e.style.fill="url(#"+p.id+")";n(e,{fill:"url(#"+p.id+")"});a.pattern=p;a.pattern&&Ba(a);break}m=l.getRGB(h);if(m.error){if(({circle:1,
ellipse:1}[v](a.type)||"r"!=z(h).charAt())&&da(e,h,a.paper)){f.gradient=h;f.fill="none";break}}else delete b.gradient,delete f.gradient,!l.is(f.opacity,"undefined")&&l.is(b.opacity,"undefined")&&n(e,{opacity:f.opacity}),!l.is(f["fill-opacity"],"undefined")&&l.is(b["fill-opacity"],"undefined")&&n(e,{"fill-opacity":f["fill-opacity"]});m[v]("opacity")&&n(e,{"fill-opacity":1<m.opacity?m.opacity/100:m.opacity});case "stroke":m=l.getRGB(h);e.setAttribute(j,m.hex);"stroke"==j&&m[v]("opacity")&&n(e,{"stroke-opacity":1<
m.opacity?m.opacity/100:m.opacity});break;case "gradient":({circle:1,ellipse:1}[v](a.type)||"r"!=z(h).charAt())&&da(e,h,a.paper);break;case "opacity":f.gradient&&!f[v]("stroke-opacity")&&n(e,{"stroke-opacity":1<h?h/100:h});case "fill-opacity":if(f.gradient){if(m=r.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,"")))m=m.getElementsByTagName("stop"),m[m[q]-1].setAttribute("stop-opacity",h);break}default:"font-size"==j&&(h=X(h,10)+"px"),m=j.replace(/(\-.)/g,function(a){return ia.call(a.substring(1))}),
e.style[m]=h,e.setAttribute(j,h)}}if(!("text"!=a.type||!b[v]("text")&&!b[v]("font")&&!b[v]("font-size")&&!b[v]("x")&&!b[v]("y"))){f=a.attrs;g=a.node;j=g.firstChild?X(r.defaultView.getComputedStyle(g.firstChild,"").getPropertyValue("font-size"),10):10;if(b[v]("text")){for(f.text=b.text;g.firstChild;)g.removeChild(g.firstChild);h=z(b.text).split("\n");m=0;for(A=h[q];m<A;m++)if(h[m]){var w=n("tspan");m&&n(w,{dy:j*$a,x:f.x});w.appendChild(r.createTextNode(h[m]));g.appendChild(w)}}else{h=g.getElementsByTagName("tspan");
m=0;for(A=h[q];m<A;m++)m&&n(h[m],{dy:j*$a,x:f.x})}n(g,{y:f.y});j=a.getBBox();(j=f.y-(j.y+j.height/2))&&l.is(j,"finite")&&n(g,{y:f.y+j})}k?a.rotate(k.join(G)):y(d)&&a.rotate(d,!0)},$a=1.2,x=function(a,b){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},s=x[u];x[u].rotate=function(a,b,c){if(this.removed)return this;
if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][J](G):this._.rt.deg;var e=this.getBBox();a=z(a).split(R);a[q]-1&&(b=y(a[1]),c=y(a[2]));a=y(a[0]);this._.rt.deg=null!=b&&!1!==b?a:this._.rt.deg+a;null==c&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=null==b?e.x+e.width/2:b;c=null==c?e.y+e.height/2:c;this._.rt.deg?(this.transformations[0]=l.format("rotate({0} {1} {2})",this._.rt.deg,b,c),this.clip&&n(this.clip,{transform:l.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})):(this.transformations[0]=
"",this.clip&&n(this.clip,{transform:""}));n(this.node,{transform:this.transformations[J](G)});return this};x[u].hide=function(){!this.removed&&(this.node.style.display="none");return this};x[u].show=function(){!this.removed&&(this.node.style.display="");return this};x[u].remove=function(){if(!this.removed){aa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}};x[u].getBBox=function(){if(this.removed)return this;if("path"==this.type)return oa(this.attrs.path);
if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if("text"==this.type)for(var b={x:b.x,y:Infinity,width:0,height:0},e=0,f=this.node.getNumberOfChars();e<f;e++){var d=this.node.getExtentOfChar(e);d.y<b.y&&(b.y=d.y);d.y+d.height-b.y>b.height&&(b.height=d.y+d.height-b.y);d.x+d.width-b.x>b.width&&(b.width=d.x+d.width-b.x)}a&&this.hide();return b};x[u].attr=function(a,b){if(this.removed)return this;if(null==a){var c={},e;for(e in this.attrs)this.attrs[v](e)&&
(c[e]=this.attrs[e]);this._.rt.deg&&(c.rotation=this.rotate());(1!=this._.sx||1!=this._.sy)&&(c.scale=this.scale());c.gradient&&"none"==c.fill&&(c.fill=c.gradient)&&delete c.gradient;return c}if(null==b&&l.is(a,"string"))return"translation"==a?qa.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(null==b&&l.is(a,P)){e={};for(var c=0,f=a.length;c<f;c++)e[a[c]]=this.attr(a[c]);return e}null!=b?(c=
{},c[a]=b):null!=a&&l.is(a,"object")&&(c=a);for(f in this.paper.customAttributes)if(this.paper.customAttributes[v](f)&&c[v](f)&&l.is(this.paper.customAttributes[f],"function")){e=this.paper.customAttributes[f].apply(this,[].concat(c[f]));this.attrs[f]=c[f];for(var d in e)e[v](d)&&(c[d]=e[d])}Z(this,c);return this};x[u].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Ua(this,a);return this};x[u].toBack=function(){if(this.removed)return this;
this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Va(this,this.paper));return this};x[u].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Wa(this,a,this.paper);return this};x[u].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);
Xa(this,a,this.paper);return this};x[u].blur=function(a){if(0!==+a){var b=n("filter"),c=n("feGaussianBlur");this.attrs.blur=a;b.id=ga();n(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;n(this.node,{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};var ab=function(a,b,c,e){var f=n("circle");a.canvas&&a.canvas.appendChild(f);a=new x(f,a);a.attrs=
{cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";n(f,a.attrs);return a},bb=function(a,b,c,e,f,d){var g=n("rect");a.canvas&&a.canvas.appendChild(g);a=new x(g,a);a.attrs={x:b,y:c,width:e,height:f,r:d||0,rx:d||0,ry:d||0,fill:"none",stroke:"#000"};a.type="rect";n(g,a.attrs);return a},cb=function(a,b,c,e,f){var d=n("ellipse");a.canvas&&a.canvas.appendChild(d);a=new x(d,a);a.attrs={cx:b,cy:c,rx:e,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";n(d,a.attrs);return a},db=function(a,b,c,e,f,d){var g=
n("image");n(g,{x:c,y:e,width:f,height:d,preserveAspectRatio:"none"});g.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(g);a=new x(g,a);a.attrs={x:c,y:e,width:f,height:d,src:b};a.type="image";return a},eb=function(a,b,c,e){var f=n("text");n(f,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new x(f,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:ja.font,stroke:"none",fill:"#000"};a.type="text";Z(a,a.attrs);return a},fb=function(a,b){this.width=a||this.width;
this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},ta=function(){var a=Ta[F](0,arguments),b=a&&a.container,c=a.x,e=a.y,f=a.width,a=a.height;if(!b)throw Error("SVG container not found.");var d=n("svg"),c=c||0,e=e||0,f=f||512,a=a||342;n(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:a});1==b?(d.style.cssText="position:absolute;left:"+c+"px;top:"+e+"px",r.body.appendChild(d)):b.firstChild?b.insertBefore(d,
b.firstChild):b.appendChild(d);b=new ha;b.width=f;b.height=a;b.canvas=d;Aa.call(b,b,l.fn);b.clear();return b};E.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=n("desc")).appendChild(r.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=n("defs"))};E.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Ya(a)}}if(l.vml){var gb=
{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Db=/([clmz]),?([^clmz]*)/gi,Eb=/ progid:\S+Blur\([^\)]+\)/g,Fb=/-?[^,\s-]+/g,ea=1E3+G+1E3,fa={path:1,rect:1};l[V]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};Za=function(a,b){var c=N("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=N("shape"),f=e.style;f.width=b.width+
"px";f.height=b.height+"px";e.coordsize=ea;e.coordorigin=b.coordorigin;c.appendChild(e);e=new x(e,c,b);f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];e.Path="";Z(e,f);b.canvas.appendChild(c);return e};Z=function(a,b){a.attrs=a.attrs||{};var c=a.node,e=a.attrs,f=c.style,d;d=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&"rect"==a.type;for(var g in b)b[v](g)&&(e[g]=b[g]);d&&(e.path=hb(e.x,e.y,e.width,e.height,e.r),a.X=e.x,a.Y=e.y,a.W=e.width,a.H=e.height);
b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);b.cursor&&(f.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&"path"==a.type||d){d=c;g=e.path;var k=/[ahqstv]/ig,j=ba;z(g).match(k)&&(j=na);k=/[clmz]/g;if(j==ba&&!z(g).match(k))g=z(g).replace(Db,function(a,b,c){var d=[],e="m"==$.call(b),f=gb[b];c.replace(Fb,function(a){e&&2==d[q]&&(f+=d+gb["m"==b?"l":"L"],d=[]);d[B](K(10*a))});return f+d});else{var k=j(g),h;g=[];for(var m=0,A=k[q];m<A;m++){j=k[m];h=$.call(k[m][0]);
"z"==h&&(h="x");for(var p=1,t=j[q];p<t;p++)h+=K(10*j[p])+(p!=t-1?",":"");g[B](h)}g=g[J](G)}d.path=g}null!=b.rotation&&a.rotate(b.rotation,!0);b.translation&&(d=z(b.translation).split(R),qa.call(a,d[0],d[1]),null!=a._.rt.cx&&(a._.rt.cx+=+d[0],a._.rt.cy+=+d[1],a.setBox(a.attrs,d[0],d[1])));b.scale&&(d=z(b.scale).split(R),a.scale(+d[0]||1,+d[1]||+d[0]||1,+d[2]||null,+d[3]||null));"clip-rect"in b&&(d=z(b["clip-rect"]).split(R),4==d[q]&&(d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1],g=c.clipRect||r.createElement("div"),
k=g.style,j=c.parentNode,k.clip=l.format("rect({1}px {2}px {3}px {0}px)",d),c.clipRect||(k.position="absolute",k.top=0,k.left=0,k.width=a.paper.width+"px",k.height=a.paper.height+"px",j.parentNode.insertBefore(g,j),g.appendChild(j),c.clipRect=g)),b["clip-rect"]||c.clipRect&&(c.clipRect.style.clip=""));"image"==a.type&&b.src&&(c.src=b.src);"image"==a.type&&b.opacity&&(c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*b.opacity+")",f.filter=(c.filterMatrix||"")+(c.filterOpacity||
""));b.font&&(f.font=b.font);b["font-family"]&&(f.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(f.fontSize=b["font-size"]);b["font-weight"]&&(f.fontWeight=b["font-weight"]);b["font-style"]&&(f.fontStyle=b["font-style"]);if(null!=b.opacity||null!=b["stroke-width"]||null!=b.fill||null!=b.stroke||null!=b["stroke-width"]||null!=b["stroke-opacity"]||null!=b["fill-opacity"]||null!=b["stroke-dasharray"]||null!=b["stroke-miterlimit"]||null!=b["stroke-linejoin"]||
null!=b["stroke-linecap"]){c=a.shape||c;d=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];g=!1;!d&&(g=d=N("fill"));if("fill-opacity"in b||"opacity"in b)f=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+l.getRGB(b.fill).o+1||2)-1),f=U(O(f,0),1),d.opacity=f;b.fill&&(d.on=!0);if(null==d.on||"none"==b.fill)d.on=!1;if(d.on&&b.fill)if(f=b.fill.match(Na))d.src=f[1],d.type="tile";else if(d.color=l.getRGB(b.fill).hex,d.src="",d.type="solid",l.getRGB(b.fill).error&&(a.type in{circle:1,
ellipse:1}||"r"!=z(b.fill).charAt())&&da(a,b.fill))e.fill="none",e.gradient=b.fill;g&&c.appendChild(d);d=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];g=!1;!d&&(g=d=N("stroke"));if(b.stroke&&"none"!=b.stroke||b["stroke-width"]||null!=b["stroke-opacity"]||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])d.on=!0;("none"==b.stroke||null==d.on||0==b.stroke||0==b["stroke-width"])&&(d.on=!1);f=l.getRGB(b.stroke);d.on&&b.stroke&&(d.color=f.hex);
f=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+f.o+1||2)-1);k=0.75*(y(b["stroke-width"])||1);f=U(O(f,0),1);null==b["stroke-width"]&&(k=e["stroke-width"]);b["stroke-width"]&&(d.weight=k);k&&1>k&&(f*=k)&&(d.weight=1);d.opacity=f;b["stroke-linejoin"]&&(d.joinstyle=b["stroke-linejoin"]||"miter");d.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(d.endcap="butt"==b["stroke-linecap"]?"flat":"square"==b["stroke-linecap"]?"square":"round");b["stroke-dasharray"]&&(f={"-":"shortdash",
".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},d.dashstyle=f[v](b["stroke-dasharray"])?f[b["stroke-dasharray"]]:"");g&&c.appendChild(d)}if("text"==a.type)switch(f=a.paper.span.style,e.font&&(f.font=e.font),e["font-family"]&&(f.fontFamily=e["font-family"]),e["font-size"]&&(f.fontSize=e["font-size"]),e["font-weight"]&&(f.fontWeight=e["font-weight"]),e["font-style"]&&(f.fontStyle=e["font-style"]),
a.node.string&&(a.paper.span.innerHTML=z(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),a.W=e.w=a.paper.span.offsetWidth,a.H=e.h=a.paper.span.offsetHeight,a.X=e.x,a.Y=e.y+K(a.H/2),e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=K(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-K(a.W/2);break;default:a.node.style["v-text-align"]="center"}};da=function(a,b){a.attrs=a.attrs||{};var c,e="linear",f=".5 .5";a.attrs.gradient=
b;b=z(b).replace(Oa,function(a,b,c){e="radial";b&&c&&(b=y(b),c=y(c),0.25<C(b-0.5,2)+C(c-0.5,2)&&(c=w.sqrt(0.25-C(b-0.5,2))*(2*(0.5<c)-1)+0.5),f=b+G+c);return""});b=b.split(/\s*\-\s*/);if("linear"==e){var d=b.shift(),d=-y(d);if(isNaN(d))return null}var g=Sa(b);if(!g)return null;a=a.shape||a.node;c=a.getElementsByTagName("fill")[0]||N("fill");!c.parentNode&&a.appendChild(c);if(g[q]){c.on=!0;c.method="none";c.color=g[0].color;c.color2=g[g[q]-1].color;for(var k=[],j=0,h=g[q];j<h;j++)g[j].offset&&k[B](g[j].offset+
G+g[j].color);c.colors&&(c.colors.value=k[q]?k[J]():"0% "+c.color);"radial"==e?(c.type="gradientradial",c.focus="100%",c.focussize=f,c.focusposition=f):(c.type="gradient",c.angle=(270-d)%360)}return 1};x=function(a,b,c){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null};s=x[u];s.rotate=function(a,b,c){if(this.removed)return this;
if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][J](G):this._.rt.deg;a=z(a).split(R);a[q]-1&&(b=y(a[1]),c=y(a[2]));a=y(a[0]);this._.rt.deg=null!=b?a:this._.rt.deg+a;null==c&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};s.setBox=function(a,b,c){if(this.removed)return this;var e=this.Group.style,f=this.shape&&this.shape.style||this.node.style;a=a||{};for(var d in a)a[v](d)&&(this.attrs[d]=a[d]);b=b||this._.rt.cx;
c=c||this._.rt.cy;var g=this.attrs,k;switch(this.type){case "circle":a=g.cx-g.r;d=g.cy-g.r;k=g=2*g.r;break;case "ellipse":a=g.cx-g.rx;d=g.cy-g.ry;k=2*g.rx;g=2*g.ry;break;case "image":a=+g.x;d=+g.y;k=g.width||0;g=g.height||0;break;case "text":this.textpath.v=["m",K(g.x),", ",K(g.y-2),"l",K(g.x)+1,", ",K(g.y-2)][J]("");a=g.x-K(this.W/2);d=g.y-this.H/2;k=this.W;g=this.H;break;case "rect":case "path":this.attrs.path?(g=oa(this.attrs.path),a=g.x,d=g.y,k=g.width,g=g.height):(d=a=0,k=this.paper.width,g=
this.paper.height);break;default:d=a=0,k=this.paper.width,g=this.paper.height}b=(null==b?a+k/2:b)-this.paper.width/2;c=(null==c?d+g/2:c)-this.paper.height/2;var j;e.left!=(j=b+"px")&&(e.left=j);e.top!=(j=c+"px")&&(e.top=j);this.X=fa[v](this.type)?-b:a;this.Y=fa[v](this.type)?-c:d;this.W=k;this.H=g;fa[v](this.type)?(f.left!=(j=10*-b+"px")&&(f.left=j),f.top!=(j=10*-c+"px")&&(f.top=j)):"text"==this.type?(f.left!=(j=-b+"px")&&(f.left=j),f.top!=(j=-c+"px")&&(f.top=j)):(e.width!=(j=this.paper.width+"px")&&
(e.width=j),e.height!=(j=this.paper.height+"px")&&(e.height=j),f.left!=(j=a-b+"px")&&(f.left=j),f.top!=(j=d-c+"px")&&(f.top=j),f.width!=(j=k+"px")&&(f.width=j),f.height!=(j=g+"px")&&(f.height=j))};s.hide=function(){!this.removed&&(this.Group.style.display="none");return this};s.show=function(){!this.removed&&(this.Group.style.display="block");return this};s.getBBox=function(){return this.removed?this:fa[v](this.type)?oa(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};
s.remove=function(){if(!this.removed){aa(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}};s.attr=function(a,b){if(this.removed)return this;if(null==a){var c={},e;for(e in this.attrs)this.attrs[v](e)&&(c[e]=this.attrs[e]);this._.rt.deg&&(c.rotation=this.rotate());(1!=this._.sx||1!=this._.sy)&&(c.scale=this.scale());c.gradient&&"none"==
c.fill&&(c.fill=c.gradient)&&delete c.gradient;return c}if(null==b&&l.is(a,"string"))return"translation"==a?qa.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(this.attrs&&null==b&&l.is(a,P)){var f={};e=0;for(c=a[q];e<c;e++)f[a[e]]=this.attr(a[e]);return f}null!=b&&(c={},c[a]=b);null==b&&l.is(a,"object")&&(c=a);if(c){for(f in this.paper.customAttributes)if(this.paper.customAttributes[v](f)&&
c[v](f)&&l.is(this.paper.customAttributes[f],"function")){e=this.paper.customAttributes[f].apply(this,[].concat(c[f]));this.attrs[f]=c[f];for(var d in e)e[v](d)&&(c[d]=e[d])}c.text&&"text"==this.type&&(this.node.string=c.text);Z(this,c);c.gradient&&({circle:1,ellipse:1}[v](this.type)||"r"!=z(c.gradient).charAt())&&da(this,c.gradient);(!fa[v](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};s.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=
this&&Ua(this,this.paper);return this};s.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Va(this,this.paper));return this};s.insertAfter=function(a){if(this.removed)return this;a.constructor==Q&&(a=a[a.length-1]);a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Wa(this,a,this.paper);return this};s.insertBefore=
function(a){if(this.removed)return this;a.constructor==Q&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);Xa(this,a,this.paper);return this};s.blur=function(a){var b=this.node.runtimeStyle,c=b.filter,c=c.replace(Eb,"");0!==+a?(this.attrs.blur=a,b.filter=c+G+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",b.margin=l.format("-{0}px 0 0 -{0}px",K(+a||1.5))):(b.filter=c,b.margin=0,delete this.attrs.blur)};var ab=function(a,b,c,e){var f=N("group"),d=N("oval");f.style.cssText=
"position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ea;f.coordorigin=a.coordorigin;f.appendChild(d);d=new x(d,f,a);d.type="circle";Z(d,{stroke:"#000",fill:"none"});d.attrs.cx=b;d.attrs.cy=c;d.attrs.r=e;d.setBox({x:b-e,y:c-e,width:2*e,height:2*e});a.canvas.appendChild(f);return d},hb=function(a,b,c,e,f){return f?l.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+f,b,c-2*f,f,-f,e-2*
f,2*f-c,2*f-e):l.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,c,e,-c)},bb=function(a,b,c,e,f,d){var g=hb(b,c,e,f,d);a=a.path(g);var k=a.attrs;a.X=k.x=b;a.Y=k.y=c;a.W=k.width=e;a.H=k.height=f;k.r=d;k.path=g;a.type="rect";return a},cb=function(a,b,c,e,f){var d=N("group"),g=N("oval");d.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";d.coordsize=ea;d.coordorigin=a.coordorigin;d.appendChild(g);g=new x(g,d,a);g.type="ellipse";Z(g,{stroke:"#000"});g.attrs.cx=b;g.attrs.cy=
c;g.attrs.rx=e;g.attrs.ry=f;g.setBox({x:b-e,y:c-f,width:2*e,height:2*f});a.canvas.appendChild(d);return g},db=function(a,b,c,e,f,d){var g=N("group"),k=N("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=ea;g.coordorigin=a.coordorigin;k.src=b;g.appendChild(k);k=new x(k,g,a);k.type="image";k.attrs.src=b;k.attrs.x=c;k.attrs.y=e;k.attrs.w=f;k.attrs.h=d;k.setBox({x:c,y:e,width:f,height:d});a.canvas.appendChild(g);return k},eb=function(a,b,c,
e){var f=N("group"),d=N("shape"),g=d.style,k=N("path"),j=N("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ea;f.coordorigin=a.coordorigin;k.v=l.format("m{0},{1}l{2},{1}",K(10*b),K(10*c),K(10*b)+1);k.textpathok=!0;g.width=a.width;g.height=a.height;j.string=z(e);j.on=!0;d.appendChild(j);d.appendChild(k);f.appendChild(d);g=new x(j,f,a);g.shape=d;g.textpath=k;g.type="text";g.attrs.text=e;g.attrs.x=b;g.attrs.y=c;g.attrs.w=1;g.attrs.h=1;
Z(g,{font:ja.font,stroke:"none",fill:"#000"});g.setBox();a.canvas.appendChild(f);return g},fb=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this},N;r.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!r.namespaces.rvml&&r.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),N=function(a){return r.createElement("<rvml:"+a+' class="rvml">')}}catch(Lb){N=function(a){return r.createElement("<"+a+
' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}ta=function(){var a=Ta[F](0,arguments),b=a.container,c=a.height,e=a.width,f=a.x,a=a.y;if(!b)throw Error("VML container not found.");var d=new ha,g=d.canvas=r.createElement("div"),k=g.style,f=f||0,a=a||0,e=e||512,c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");d.width=1E3;d.height=1E3;d.coordsize=1E4+G+1E4;d.coordorigin="0 0";d.span=r.createElement("span");d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
g.appendChild(d.span);k.cssText=l.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);1==b?(r.body.appendChild(g),k.left=f+"px",k.top=a+"px",k.position="absolute"):b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g);Aa.call(d,d,l.fn);return d};E.clear=function(){this.canvas.innerHTML="";this.span=r.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};E.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Ya(a);return!0}}var ib=navigator.userAgent.match(/Version\/(.*?)\s/);E.safari="Apple Computer, Inc."==navigator.vendor&&(ib&&4>ib[1]||"iP"==navigator.platform.slice(0,2))?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});Y.setTimeout(function(){a.remove()})}:function(){};var Gb=function(){this.returnValue=!1},
Hb=function(){return this.originalEvent.preventDefault()},Ib=function(){this.cancelBubble=!0},Jb=function(){return this.originalEvent.stopPropagation()},jb;jb=r.addEventListener?function(a,b,c,e){var f=ua&&va[b]?va[b]:b,d=function(d){if(ua&&va[v](b))for(var f=0,j=d.targetTouches&&d.targetTouches.length;f<j;f++)if(d.targetTouches[f].target==a){j=d;d=d.targetTouches[f];d.originalEvent=j;d.preventDefault=Hb;d.stopPropagation=Jb;break}return c.call(e,d)};a.addEventListener(f,d,!1);return function(){a.removeEventListener(f,
d,!1);return!0}}:r.attachEvent?function(a,b,c,e){var f=function(a){a=a||Y.event;a.preventDefault=a.preventDefault||Gb;a.stopPropagation=a.stopPropagation||Ib;return c.call(e,a)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+b,f);return!0}}:void 0;for(var S=[],Ca=function(a){for(var b=a.clientX,c=a.clientY,e=r.documentElement.scrollTop||r.body.scrollTop,f=r.documentElement.scrollLeft||r.body.scrollLeft,d,g=S.length;g--;){d=S[g];if(ua)for(var k=a.touches.length,j;k--;){if(j=a.touches[k],
j.identifier==d.el._drag.id){b=j.clientX;c=j.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=f;c+=e;d.move&&d.move.call(d.move_scope||d.el,b-d.el._drag.x,c-d.el._drag.y,b,c,a)}},Da=function(a){l.unmousemove(Ca).unmouseup(Da);for(var b=S.length,c;b--;)c=S[b],c.el._drag={},c.end&&c.end.call(c.end_scope||c.start_scope||c.move_scope||c.el,a);S=[]},kb=Ma[q];kb--;)(function(a){l[a]=x[u][a]=function(b,c){l.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,
f:b,unbind:jb(this.shape||this.node||r,a,b,c||this)}));return this};l["un"+a]=x[u]["un"+a]=function(b){for(var c=this.events,e=c[q];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;break}return this}})(Ma[kb]);s.hover=function(a,b,c,e){return this.mouseover(a,c).mouseout(b,e||c)};s.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};s.drag=function(a,b,c,e,f,d){this._drag={};this.mousedown(function(g){(g.originalEvent||g).preventDefault();var k=
r.documentElement.scrollTop||r.body.scrollTop,j=r.documentElement.scrollLeft||r.body.scrollLeft;this._drag.x=g.clientX+j;this._drag.y=g.clientY+k;this._drag.id=g.identifier;b&&b.call(f||e||this,g.clientX+j,g.clientY+k,g);!S.length&&l.mousemove(Ca).mouseup(Da);S.push({el:this,move:a,end:c,move_scope:e,start_scope:f,end_scope:d})});return this};s.undrag=function(a,b,c){for(b=S.length;b--;)S[b].el==this&&S[b].move==a&&S[b].end==c&&S.splice(b++,1);!S.length&&l.unmousemove(Ca).unmouseup(Da)};E.circle=
function(a,b,c){return ab(this,a||0,b||0,c||0)};E.rect=function(a,b,c,e,f){return bb(this,a||0,b||0,c||0,e||0,f||0)};E.ellipse=function(a,b,c,e){return cb(this,a||0,b||0,c||0,e||0)};E.path=function(a){a&&!l.is(a,"string")&&!l.is(a[0],P)&&(a+="");return Za(l.format[F](l,arguments),this)};E.image=function(a,b,c,e,f){return db(this,a||"about:blank",b||0,c||0,e||0,f||0)};E.text=function(a,b,c){return eb(this,a||0,b||0,z(c))};E.set=function(a){1<arguments[q]&&(a=Array[u].splice.call(arguments,0,arguments[q]));
return new Q(a)};E.setSize=fb;E.top=E.bottom=null;E.raphael=l;s.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};s.scale=function(a,b,c,e){if(this.removed)return this;if(null==a&&null==b)return{x:this._.sx,y:this._.sy,toString:Ja};b=b||a;!+b&&(b=a);var f,d,g=this.attrs;if(0!=a){var k=this.getBBox(),j=k.x+k.width/2,h=k.y+k.height/2;f=H(a/this._.sx);d=H(b/this._.sy);c=+c||0==c?c:j;e=+e||0==e?e:h;var l=0<this._.sx,A=0<this._.sy,k=~~(a/H(a)),p=~~(b/H(b)),
t=f*k,n=d*p,v=this.node.style,j=c+H(j-c)*t*(j>c==l?1:-1),h=e+H(h-e)*n*(h>e==A?1:-1),r=a*k>b*p?d:f;switch(this.type){case "rect":case "image":var w=g.width*f,y=g.height*d;this.attr({height:y,r:g.r*r,width:w,x:j-w/2,y:h-y/2});break;case "circle":case "ellipse":this.attr({rx:g.rx*f,ry:g.ry*d,r:g.r*r,cx:j,cy:h});break;case "text":this.attr({x:j,y:h});break;case "path":for(var r=za(g.path),z=!0,l=l?t:f,A=A?n:d,n=0,t=r[q];n<t;n++){var s=r[n],u=ia.call(s[0]);if(!("M"==u&&z))if(z=!1,"A"==u)s[r[n][q]-2]*=
l,s[r[n][q]-1]*=A,s[1]*=f,s[2]*=d,s[5]=+(k+p?!!+s[5]:!+s[5]);else if("H"==u)for(var u=1,x=s[q];u<x;u++)s[u]*=l;else if("V"==u){u=1;for(x=s[q];u<x;u++)s[u]*=A}else{u=1;for(x=s[q];u<x;u++)s[u]*=u%2?l:A}}d=oa(r);f=j-d.x-d.width/2;d=h-d.y-d.height/2;r[0][1]+=f;r[0][2]+=d;this.attr({path:r})}this.type in{text:1,image:1}&&(1!=k||1!=p)?this.transformations?(this.transformations[2]="scale(".concat(k,",",p,")"),this.node.setAttribute("transform",this.transformations[J](G)),f=-1==k?-g.x-(w||0):g.x,d=-1==p?
-g.y-(y||0):g.y,this.attr({x:f,y:d}),g.fx=k-1,g.fy=p-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(k,", M12=0, M21=0, M22=",p,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),v.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations[J](G)),g.fx=0,g.fy=0):(this.node.filterMatrix="",v.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||
""));g.scale=[a,b,c,e][J](G);this._.sx=a;this._.sy=b}return this};s.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var Ea={},ra=function(a,b,c,e,f,d,g,k,j){var h=0,m=100,q=[a,b,c,e,f,d,g,k].join(),p=Ea[q],n,r;!p&&(Ea[q]=p={data:[]});p.timer&&clearTimeout(p.timer);p.timer=setTimeout(function(){delete Ea[q]},2E3);null!=j&&(m=10*~~ra(a,b,c,e,f,d,g,k));for(var s=0;s<m+1;s++){p.data[j]>s?r=p.data[s*m]:(r=l.findDotsAtSegment(a,
b,c,e,f,d,g,k,s/m),p.data[s]=r);s&&(h+=C(C(n.x-r.x,2)+C(n.y-r.y,2),0.5));if(null!=j&&h>=j)return r;n=r}if(null==j)return h},Fa=function(a,b){return function(c,e,f){c=na(c);for(var d,g,k,j,h="",m={},q=0,p=0,n=c.length;p<n;p++){k=c[p];if("M"==k[0])d=+k[1],g=+k[2];else{j=ra(d,g,k[1],k[2],k[3],k[4],k[5],k[6]);if(q+j>e){if(b&&!m.start){d=ra(d,g,k[1],k[2],k[3],k[4],k[5],k[6],e-q);h+=["C",d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y];if(f)return h;m.start=h;h=["M",d.x,d.y+"C",d.n.x,d.n.y,d.end.x,d.end.y,k[5],
k[6]][J]();q+=j;d=+k[5];g=+k[6];continue}if(!a&&!b)return d=ra(d,g,k[1],k[2],k[3],k[4],k[5],k[6],e-q),{x:d.x,y:d.y,alpha:d.alpha}}q+=j;d=+k[5];g=+k[6]}h+=k}m.end=h;d=a?q:b?m:l.findDotsAtSegment(d,g,k[1],k[2],k[3],k[4],k[5],k[6],1);d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha});return d}},lb=Fa(1),sa=Fa(),Ga=Fa(0,1);s.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():lb(this.attrs.path)};s.getPointAtLength=function(a){if("path"==this.type)return sa(this.attrs.path,
a)};s.getSubpath=function(a,b){if("path"==this.type){if("1e-6">H(this.getTotalLength()-b))return Ga(this.attrs.path,a).end;var c=Ga(this.attrs.path,b,1);return a?Ga(c,a).end:c}};l.easing_formulas={linear:function(a){return a},"<":function(a){return C(a,3)},">":function(a){return C(a-1,3)+1},"<>":function(a){a*=2;return 1>a?C(a,3)/2:(C(a-2,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return 0==a||1==a?a:C(2,
-10*a)*w.sin((a-0.075)*2*M/0.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+0.9375):(a-=2.625/2.75,a=7.5625*a*a+0.984375);return a}};var T=[],mb=function(){for(var a=+new Date,b=0;b<T[q];b++){var c=T[b];if(!c.stop&&!c.el.removed){var e=a-c.start,f=c.ms,d=c.easing,g=c.from,k=c.diff,j=c.to,h=c.t,m=c.el,c={},n;if(e<f){var e=d(e/f),p;for(p in g)if(g[v](p)){switch(wa[p]){case "along":n=e*f*k[p];j.back&&(n=j.len-n);d=sa(j[p],
n);m.translate(k.sx-k.x||0,k.sy-k.y||0);k.x=d.x;k.y=d.y;m.translate(d.x-k.sx,d.y-k.sy);j.rot&&m.rotate(k.r+d.alpha,d.x,d.y);break;case I:n=+g[p]+e*f*k[p];break;case "colour":n="rgb("+[Ha(K(g[p].r+e*f*k[p].r)),Ha(K(g[p].g+e*f*k[p].g)),Ha(K(g[p].b+e*f*k[p].b))][J](",")+")";break;case "path":n=[];for(var d=0,t=g[p][q];d<t;d++){n[d]=[g[p][d][0]];for(var r=1,s=g[p][d][q];r<s;r++)n[d][r]=+g[p][d][r]+e*f*k[p][d][r];n[d]=n[d][J](G)}n=n[J](G);break;case "csv":switch(p){case "translation":n=e*f*k[p][0]-h.x;
d=e*f*k[p][1]-h.y;h.x+=n;h.y+=d;n=n+G+d;break;case "rotation":n=+g[p][0]+e*f*k[p][0];g[p][1]&&(n+=","+g[p][1]+","+g[p][2]);break;case "scale":n=[+g[p][0]+e*f*k[p][0],+g[p][1]+e*f*k[p][1],2 in j[p]?j[p][2]:"",3 in j[p]?j[p][3]:""][J](G);break;case "clip-rect":n=[];for(d=4;d--;)n[d]=+g[p][d]+e*f*k[p][d]}break;default:t=[].concat(g[p]);n=[];for(d=m.paper.customAttributes[p].length;d--;)n[d]=+t[d]+e*f*k[p][d]}c[p]=n}m.attr(c);m._run&&m._run.call(m)}else j.along&&(d=sa(j.along,j.len*!j.back),m.translate(k.sx-
(k.x||0)+d.x-k.sx,k.sy-(k.y||0)+d.y-k.sy),j.rot&&m.rotate(k.r+d.alpha,d.x,d.y)),(h.x||h.y)&&m.translate(-h.x,-h.y),j.scale&&(j.scale+=""),m.attr(j),T.splice(b--,1)}}l.svg&&m&&m.paper&&m.paper.safari();T[q]&&setTimeout(mb)},Kb=function(a,b,c,e,f){var d=c-e;b.timeouts.push(setTimeout(function(){l.is(f,"function")&&f.call(b);b.animate(a,d,a.easing)},e))},Ha=function(a){return O(U(a,255),0)},qa=function(a,b){if(null==a)return{x:this._.tx,y:this._.ty,toString:Ja};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+
this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=za(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c})}return this};s.animateWith=function(a,b,c,e,f){for(var d=0,g=T.length;d<g;d++)T[d].el.id==a.id&&(b.start=T[d].start);return this.animate(b,c,e,f)};s.animateAlong=Ka();s.animateAlongBack=Ka(1);s.onAnimation=function(a){this._run=a||0;return this};s.animate=function(a,b,c,e){var f=this;
f.timeouts=f.timeouts||[];if(l.is(c,"function")||!c)e=c||null;if(f.removed)return e&&e.call(f),f;var d={},g={},k=!1,j={},h;for(h in a)if(a[v](h)&&(wa[v](h)||f.paper.customAttributes[v](h)))switch(k=!0,d[h]=f.attr(h),null==d[h]&&(d[h]=ja[h]),g[h]=a[h],wa[h]){case "along":var m=lb(a[h]),n=sa(a[h],m*!!a.back),p=f.getBBox();j[h]=m/b;j.tx=p.x;j.ty=p.y;j.sx=n.x;j.sy=n.y;g.rot=a.rot;g.back=a.back;g.len=m;a.rot&&(j.r=y(f.rotate())||0);break;case I:j[h]=(g[h]-d[h])/b;break;case "colour":d[h]=l.getRGB(d[h]);
m=l.getRGB(g[h]);j[h]={r:(m.r-d[h].r)/b,g:(m.g-d[h].g)/b,b:(m.b-d[h].b)/b};break;case "path":m=na(d[h],g[h]);d[h]=m[0];p=m[1];j[h]=[];m=0;for(n=d[h][q];m<n;m++){j[h][m]=[0];for(var r=1,s=d[h][m][q];r<s;r++)j[h][m][r]=(p[m][r]-d[h][m][r])/b}break;case "csv":n=z(a[h]).split(R);p=z(d[h]).split(R);switch(h){case "translation":d[h]=[0,0];j[h]=[n[0]/b,n[1]/b];break;case "rotation":d[h]=p[1]==n[1]&&p[2]==n[2]?p:[0,n[1],n[2]];j[h]=[(n[0]-d[h][0])/b,0,0];break;case "scale":a[h]=n;d[h]=z(d[h]).split(R);j[h]=
[(n[0]-d[h][0])/b,(n[1]-d[h][1])/b,0,0];break;case "clip-rect":d[h]=z(d[h]).split(R);j[h]=[];for(m=4;m--;)j[h][m]=(n[m]-d[h][m])/b}g[h]=n;break;default:n=[].concat(a[h]);p=[].concat(d[h]);j[h]=[];for(m=f.paper.customAttributes[h][q];m--;)j[h][m]=((n[m]||0)-(p[m]||0))/b}if(k){h=l.easing_formulas[c];if(!h)if((h=z(c).match(tb))&&5==h[q]){var u=h;h=function(a){var c=+u[1],d=+u[2],e=3*c,f=3*(+u[3]-c)-e,g=1-e-f,c=3*d,d=3*(+u[4]-d)-c,h=1-c-d;a=function(a,b){var c,d,h,j;h=a;for(d=0;8>d;d++){j=((g*h+f)*h+
e)*h-a;if(H(j)<b)return h;c=(3*g*h+2*f)*h+e;if(1E-6>H(c))break;h-=j/c}c=0;d=1;h=a;if(h<c)return c;if(h>d)return d;for(;c<d;){j=((g*h+f)*h+e)*h;if(H(j-a)<b)break;a>j?c=h:d=h;h=(d-c)/2+c}return h}(a,1/(200*b));return((h*a+d)*a+c)*a}}else h=function(a){return a};T.push({start:a.start||+new Date,ms:b,easing:h,from:d,diff:j,to:g,el:f,t:{x:0,y:0}});l.is(e,"function")&&(f._ac=setTimeout(function(){e.call(f)},b));1==T[q]&&setTimeout(mb)}else{c=[];var w,x;for(x in a)a[v](x)&&ub.test(x)&&(h={value:a[x]},"from"==
x&&(x=0),"to"==x&&(x=100),h.key=X(x,10),c.push(h));c.sort(zb);c[0].key&&c.unshift({key:0,value:f.attrs});m=0;for(n=c[q];m<n;m++)Kb(c[m].value,f,b/100*c[m].key,b/100*(c[m-1]&&c[m-1].key||0),c[m-1]&&c[m-1].value.callback);(w=c[c[q]-1].value.callback)&&f.timeouts.push(setTimeout(function(){w.call(f)},b))}return this};s.stop=function(){for(var a=0;a<T.length;a++)T[a].el.id==this.id&&T.splice(a--,1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];
clearTimeout(this._ac);delete this._ac;return this};s.translate=function(a,b){return this.attr({translation:a+" "+b})};s[V]=function(){return"Rapha\u00ebl\u2019s object"};l.ae=T;var Q=function(a){this.items=[];this[q]=0;this.type="set";if(a)for(var b=0,c=a[q];b<c;b++)if(a[b]&&(a[b].constructor==x||a[b].constructor==Q))this[this.items[q]]=this.items[this.items[q]]=a[b],this[q]++};Q[u][B]=function(){for(var a,b,c=0,e=arguments[q];c<e;c++)if((a=arguments[c])&&(a.constructor==x||a.constructor==Q))b=this.items[q],
this[b]=this.items[b]=a,this[q]++;return this};Q[u].pop=function(){delete this[this[q]--];return this.items.pop()};for(var Ia in s)s[v](Ia)&&(Q[u][Ia]=function(a){return function(){for(var b=0,c=this.items[q];b<c;b++)this.items[b][a][F](this.items[b],arguments);return this}}(Ia));Q[u].attr=function(a,b){if(a&&l.is(a,P)&&l.is(a[0],"object"))for(var c=0,e=a[q];c<e;c++)this.items[c].attr(a[c]);else{c=0;for(e=this.items[q];c<e;c++)this.items[c].attr(a,b)}return this};Q[u].animate=function(a,b,c,e){(l.is(c,
"function")||!c)&&(e=c||null);var f=this.items[q],d=f,g,k=this,j;e&&(j=function(){!--f&&e.call(k)});c=l.is(c,"string")?c:j;for(g=this.items[--d].animate(a,b,c,j);d--;)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(g,a,b,c,j);return this};Q[u].insertAfter=function(a){for(var b=this.items[q];b--;)this.items[b].insertAfter(a);return this};Q[u].getBBox=function(){for(var a=[],b=[],c=[],e=[],f=this.items[q];f--;){var d=this.items[f].getBBox();a[B](d.x);b[B](d.y);c[B](d.x+d.width);e[B](d.y+
d.height)}a=U[F](0,a);b=U[F](0,b);return{x:a,y:b,width:O[F](0,c)-a,height:O[F](0,e)-b}};Q[u].clone=function(a){a=new Q;for(var b=0,c=this.items[q];b<c;b++)a[B](this.items[b].clone());return a};l.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],e;for(e in a.face)a.face[v](e)&&(b.face[e]=a.face[e]);if(this.fonts[c])this.fonts[c][B](b);else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=X(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs[v](f)&&
(c=a.glyphs[f],b.glyphs[f]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var d in c.k)c[v](d)&&(b.glyphs[f].k[d]=c.k[d])}return a};E.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(l.fonts){var f=l.fonts[a];if(!f){a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var d in l.fonts)if(l.fonts[v](d)&&a.test(d)){f=l.fonts[d];break}}var g;
if(f){d=0;for(a=f[q];d<a&&!(g=f[d],g.face["font-weight"]==b&&(g.face["font-style"]==c||!g.face["font-style"])&&g.face["font-stretch"]==e);d++);}return g}};E.print=function(a,b,c,e,f,d,g){d=d||"middle";g=O(U(g||0,1),-1);var k=this.set(),j=z(c).split(""),h=0;l.is(e,c)&&(e=this.getFont(e));if(e){c=(f||16)/e.face["units-per-em"];var m=e.face.bbox.split(R);f=+m[0];d=+m[1]+("baseline"==d?m[3]-m[1]+ +e.face.descent:(m[3]-m[1])/2);for(var m=0,n=j[q];m<n;m++){var p=m&&e.glyphs[j[m-1]]||{},r=e.glyphs[j[m]],
h=h+(m?(p.w||e.w)+(p.k&&p.k[j[m]]||0)+e.w*g:0);r&&r.d&&k[B](this.path(r.d).attr({fill:"#000",stroke:"none",translation:[h,0]}))}k.scale(c,c,f,d).translate(a-f,b-d)}return k};l.format=function(a,b){var c=l.is(b,P)?[0].concat(b):arguments;a&&l.is(a,"string")&&c[q]-1&&(a=a.replace(ob,function(a,b){return null==c[++b]?"":c[b]}));return a||""};l.ninja=function(){La?Y.Raphael=pb:delete Raphael;return l};l.el=s;l.st=Q[u];La?Y.Raphael=l:Raphael=l})();
